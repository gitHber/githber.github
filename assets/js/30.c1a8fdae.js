(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{169:function(t,s,a){"use strict";a.r(s);var n=a(0),c=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"脚本类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本类","aria-hidden":"true"}},[t._v("#")]),t._v(" 脚本类")]),a("h3",{attrs:{id:"尽量使用id选择其"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#尽量使用id选择其","aria-hidden":"true"}},[t._v("#")]),t._v(" 尽量使用id选择其")]),a("p",[t._v("选择页面DOM元素是尽量使用id选择其，因为id选择器速度最快")]),a("h3",{attrs:{id:"合理缓存dom对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合理缓存dom对象","aria-hidden":"true"}},[t._v("#")]),t._v(" 合理缓存DOM对象")]),a("p",[t._v("对于需要重复使用的DOM对象，要优先设置缓存变量，避免每次使用时都要从整个DOM树中查找。")]),a("h3",{attrs:{id:"页面元素尽量使用事件代理-事件委托-，避免直接事件绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面元素尽量使用事件代理-事件委托-，避免直接事件绑定","aria-hidden":"true"}},[t._v("#")]),t._v(" 页面元素尽量使用事件代理(事件委托)，避免直接事件绑定")]),a("p",[t._v("使用事件代理可以避免对每个元素都进行绑定，并且可以避免出现内存邪路以及需要动态添加时间的绑定问题，所以尽量不要直接使用事件绑定。")]),a("h3",{attrs:{id:"使用touchstart代替click"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用touchstart代替click","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用touchstart代替click")]),a("p",[t._v("由于移动端屏幕的设计，touchstart时间和click时间出发时间之间存在300毫秒的延时，所以在页面中没有实现touchmove滚动处理的情况下，可以使用touchstart事件来代替元素的click事件，加快页面点击的响应速度，提高用户体验。同时也要注意页面重叠元素的touch动作的点击穿透问题。")]),a("h3",{attrs:{id:"避免touchmove、scroll连续事件处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#避免touchmove、scroll连续事件处理","aria-hidden":"true"}},[t._v("#")]),t._v(" 避免touchmove、scroll连续事件处理")]),a("p",[t._v("需要对touchmove、scroll这类可能连续出发回调的事件设置事件节流，例如设置每隔16ms(60帧的帧间隔为16.7,秒，因此可以合理的设置为16ms)才进行一次事件处理，避免频繁的事件调用导致页面卡顿。")]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 不推荐")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("$")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'.scroller'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("on")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'touchmove'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'.btn'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 推荐")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("$")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'.scroller'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("on")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'touchmove'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'.btn'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" self "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("16")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h3",{attrs:{id:"避免使用eval、with，使用join代替连接符-推荐使用ecmascript6的字符串模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#避免使用eval、with，使用join代替连接符-推荐使用ecmascript6的字符串模板","aria-hidden":"true"}},[t._v("#")]),t._v(" 避免使用eval、with，使用join代替连接符+,推荐使用ECMAScript6的字符串模板")]),a("p",[t._v("这些都是一些基础的安全脚本编写问题，尽可能使用较高效率的特性来完成这些操作，避免不规范或不安全的写法。")]),a("h3",{attrs:{id:"尽量使用ecmascript-的特性来编程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#尽量使用ecmascript-的特性来编程","aria-hidden":"true"}},[t._v("#")]),t._v(" 尽量使用ECMAScript+的特性来编程")]),a("p",[t._v("ECMAScript6+一定程度上更加安全高效，而且部分特性执行速度更快，也是未来规范的需要，所以推荐使用ECMAScript6+的特性完成开发。")])])}],!1,null,null,null);c.options.__file="4.md";s.default=c.exports}}]);