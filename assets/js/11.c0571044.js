(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{197:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"启动原理解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动原理解析","aria-hidden":"true"}},[a._v("#")]),a._v(" 启动原理解析")]),s("p",[a._v("我们开发一个Spring Boot项目，都会用到如下的启动类")]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@SpringBootApplication")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("Application")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("main")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("String"),s("span",{attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    SpringApplication"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("run")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Application"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" args"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("从上面代码可以看出，Annotation定义（@SpringBootApplication）和类定义（SpringApplication）最为重要")]),s("h2",{attrs:{id:"springbootapplication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#springbootapplication","aria-hidden":"true"}},[a._v("#")]),a._v(" @SpringBootApplication")]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Target")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ElementType"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("TYPE"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Retention")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("RetentionPolicy"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("RUNTIME"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Documented")]),a._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Inherited")]),a._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@SpringBootConfiguration")]),a._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@EnableAutoConfiguration")]),a._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@ComponentScan")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("excludeFilters "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Filter")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("type "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" FilterType"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("CUSTOM"),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" classes "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" TypeExcludeFilter"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Filter")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("type "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" FilterType"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("CUSTOM"),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" classes "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" AutoConfigurationExcludeFilter"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" @"),s("span",{attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("SpringBootApplication")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])]),s("p",[a._v("虽然定义了多个注解进行原信息标注，但实际上重要的只有三个：")]),s("ul",[s("li",[a._v("@Configuration")]),s("li",[a._v("@EnableAutoConfiguration")]),s("li",[a._v("@ComponentScan")])]),s("p",[a._v("所以，如果我们使用这三个注解代替SpringBootApplication，整个SpringBoot仍然可以正常运行。")]),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[a._v("#")]),a._v(" @Configuration")]),s("p",[a._v("这里的@Configuration对我们来说并不陌生，它是JavaConfig形式的Spring Ioc容器的配置类使用的@Configuration，SpringBoot社区推荐使用基于JavaConfig的配置形式，所以，这里的启动类标注了@Configuration之后，本身其实也是一个IoC容器的配置类。")]),s("ul",[s("li",[a._v("表现层形式")])]),s("p",[a._v("基于XML配置的的方式是这样：")]),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token prolog"}},[a._v('<?xml version="1.0" encoding="UTF-8"?>')]),a._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("beans")]),a._v("\n  "),s("span",{attrs:{class:"token attr-name"}},[a._v("xmlns")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("http://www.springframework.org/schema/beans"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n  "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("xmlns:")]),a._v("xsi")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("https://www.w3.org/2001/XMLSchema-instance"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n  "),s("span",{attrs:{class:"token attr-name"}},[a._v("default-lazy-init")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{attrs:{class:"token comment"}},[a._v("\x3c!-- bean定义 --\x3e")]),a._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("beans")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("p",[a._v("而基于JavaConfig的配置方式是这样：")]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Configuration")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MockConfiguration")]),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{attrs:{class:"token comment"}},[a._v("// bean定义")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("任何一个标注了@Configuration的Java类定义都是一个JavaConfig配置类")]),s("ul",[s("li",[a._v("注册bean定义层面\n基于XML的配置形式是这样：")])]),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("bean")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("id")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("mockService"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("..MockServiceImpl"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n...\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("bean")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("而基于JavaConfig的配置形式是这样的：")]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Configuration")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MockConfiguration")]),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Bean")]),a._v("\n  "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" MockService "),s("span",{attrs:{class:"token function"}},[a._v("mockService")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MockServiceImpl")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[a._v("任何一个标注了@Bean的方法，其返回值将作为一个bean定义注册到Spring的IOC容器，方法名将默认成该bean定义的id。")]),s("ul",[s("li",[a._v("表达依赖注入关系层面")])]),s("p",[a._v("为了表达bean与bean之间的依赖关系，在XML形式中一般是这样：")]),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("bean")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("id")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("mockService"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("..MockServiceImpl"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("propery")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("dependencyService"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("ref")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("dependencyService"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("bean")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("bean")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("id")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("dependencyService"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[a._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("DependencyServiceImpl"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("bean")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("而基于JavaConfig的配置形式是这样的：")]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Configuration")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MockConfiguration")]),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Bean")]),a._v("\n  "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" MockService "),s("span",{attrs:{class:"token function"}},[a._v("mockService")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MockServiceImpl")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token function"}},[a._v("dependencyService")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Bean")]),a._v("\n  "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" DependencyService "),s("span",{attrs:{class:"token function"}},[a._v("dependencyService")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("DependencyServiceImpl")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])]),s("p",[a._v("如果一个bean的定义依赖其他bean，则直接调用JavaConfig类中依赖bean的创建方法就可以了。")]),s("h2",{attrs:{id:"compontentscan"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compontentscan","aria-hidden":"true"}},[a._v("#")]),a._v(" @CompontentScan")]),s("p",[a._v("@ComponentScan这个注解在Spring中很重要，他对应XML配置中的元素，@ComponentScan的功能其实就是自动扫描并加载符合条件的组件（比如@Component和@Repository）或者bean定义，最终将这些bean定义加载到IoC容器中。\n我们可以通过basePackages等属性来细粒度的定制@ComponentScan自动扫描的范围，如果不指定，则默认Spring框架实现会从声明@ComponentScan所在类的package进行扫描")]),s("blockquote",[s("p",[a._v("注：所以SpringBoot的启动类最好还是放在root package下，因为默认不指定basePackages。")])]),s("h2",{attrs:{id:"enableautoconfiguration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enableautoconfiguration","aria-hidden":"true"}},[a._v("#")]),a._v(" @EnableAutoConfiguration")]),s("p",[a._v("个人感觉@EnableAutoConfiguration这个注解最为重要，所以放在最后来解释，大家是否还记得Spring框架提供的各种名字为@Enable开头的Annotation定义，比如@EnableScheduling，@EnableCaching、@EnableMBeanExport等，@EnableAutoConfiguration的理念和做事方式其实一脉相承，简单概括，借助@Import的支持，收集和注册特定场景相关的bean定义。")])])}],!1,null,null,null);e.options.__file="1.md";t.default=e.exports}}]);