<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络加载类 | 个人主页</title>
    <meta name="description" content="月肃生的blog">
    <link rel="icon" href="/img/logo.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/img/logo.png">
    
    <link rel="preload" href="/assets/css/styles.bcf421dc.css" as="style"><link rel="preload" href="/assets/js/app.bcf421dc.js" as="script"><link rel="preload" href="/assets/js/25.5da1cc50.js" as="script"><link rel="prefetch" href="/assets/js/23.7cc5fcba.js"><link rel="prefetch" href="/assets/js/0.f6ae4806.js"><link rel="prefetch" href="/assets/css/2.styles.c1657b51.css"><link rel="prefetch" href="/assets/js/2.c1657b51.js"><link rel="prefetch" href="/assets/css/3.styles.25e3d776.css"><link rel="prefetch" href="/assets/js/3.25e3d776.js"><link rel="prefetch" href="/assets/css/4.styles.4d6fe524.css"><link rel="prefetch" href="/assets/js/4.4d6fe524.js"><link rel="prefetch" href="/assets/css/5.styles.91a51cd8.css"><link rel="prefetch" href="/assets/js/5.91a51cd8.js"><link rel="prefetch" href="/assets/css/6.styles.5ad7af17.css"><link rel="prefetch" href="/assets/js/6.5ad7af17.js"><link rel="prefetch" href="/assets/css/7.styles.9c357a6d.css"><link rel="prefetch" href="/assets/js/7.9c357a6d.js"><link rel="prefetch" href="/assets/js/8.bb6178bb.js"><link rel="prefetch" href="/assets/js/9.83b853ca.js"><link rel="prefetch" href="/assets/js/10.5e46ae35.js"><link rel="prefetch" href="/assets/js/11.c0571044.js"><link rel="prefetch" href="/assets/js/12.72457289.js"><link rel="prefetch" href="/assets/js/13.c6b7afb6.js"><link rel="prefetch" href="/assets/js/14.da9f976b.js"><link rel="prefetch" href="/assets/js/15.ceebd4bd.js"><link rel="prefetch" href="/assets/js/16.f819ab75.js"><link rel="prefetch" href="/assets/js/17.a3d337eb.js"><link rel="prefetch" href="/assets/js/18.171b5270.js"><link rel="prefetch" href="/assets/js/19.7e4396be.js"><link rel="prefetch" href="/assets/js/20.5008e6a4.js"><link rel="prefetch" href="/assets/js/21.876635a3.js"><link rel="prefetch" href="/assets/js/22.4102ca6a.js"><link rel="prefetch" href="/assets/js/24.315206c1.js"><link rel="prefetch" href="/assets/js/26.38ecf8b1.js"><link rel="prefetch" href="/assets/js/27.891d8f2b.js"><link rel="prefetch" href="/assets/js/28.6a9a3765.js"><link rel="prefetch" href="/assets/js/29.4089afdb.js"><link rel="prefetch" href="/assets/js/30.c1a8fdae.js"><link rel="prefetch" href="/assets/js/31.c6651ed9.js"><link rel="prefetch" href="/assets/js/32.47631b40.js"><link rel="prefetch" href="/assets/js/33.166ec58f.js"><link rel="prefetch" href="/assets/js/34.be0d4d0e.js"><link rel="prefetch" href="/assets/js/35.a0a56ea5.js"><link rel="prefetch" href="/assets/js/36.65be957d.js"><link rel="prefetch" href="/assets/js/37.8160374d.js"><link rel="prefetch" href="/assets/js/38.639944a8.js"><link rel="prefetch" href="/assets/js/39.8c48ba94.js"><link rel="prefetch" href="/assets/js/40.e03fac78.js"><link rel="prefetch" href="/assets/js/41.f0d21fa3.js"><link rel="prefetch" href="/assets/js/42.292c6121.js"><link rel="prefetch" href="/assets/js/43.3963d96b.js"><link rel="prefetch" href="/assets/js/44.700efd17.js"><link rel="prefetch" href="/assets/js/45.438e20e5.js"><link rel="prefetch" href="/assets/js/46.b6aa1630.js"><link rel="prefetch" href="/assets/js/47.f805463b.js"><link rel="prefetch" href="/assets/js/48.774eb877.js"><link rel="prefetch" href="/assets/js/49.b531141b.js"><link rel="prefetch" href="/assets/js/50.fadd6a92.js"><link rel="prefetch" href="/assets/js/51.f5e52594.js"><link rel="prefetch" href="/assets/js/52.64d79003.js"><link rel="prefetch" href="/assets/js/53.2b60e80e.js"><link rel="prefetch" href="/assets/js/54.6528eb05.js">
    <link rel="stylesheet" href="/assets/css/styles.bcf421dc.css"><link rel="stylesheet" href="/assets/css/2.styles.c1657b51.css"><link rel="stylesheet" href="/assets/css/3.styles.25e3d776.css"><link rel="stylesheet" href="/assets/css/4.styles.4d6fe524.css"><link rel="stylesheet" href="/assets/css/5.styles.91a51cd8.css"><link rel="stylesheet" href="/assets/css/6.styles.5ad7af17.css"><link rel="stylesheet" href="/assets/css/7.styles.9c357a6d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      个人主页
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/backend/" class="nav-link">backend</a></li><li class="dropdown-item"><!----><a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----><a href="/design-mode/" class="nav-link">design-mode</a></li><li class="dropdown-item"><!----><a href="/h5/" class="nav-link router-link-active">h5</a></li><li class="dropdown-item"><!----><a href="/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----><a href="/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----><a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----><a href="/vue/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/gitHber" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.jianshu.com/u/dbebfffb18ba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/gitHber/vue-press-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博文</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/backend/" class="nav-link">backend</a></li><li class="dropdown-item"><!----><a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----><a href="/design-mode/" class="nav-link">design-mode</a></li><li class="dropdown-item"><!----><a href="/h5/" class="nav-link router-link-active">h5</a></li><li class="dropdown-item"><!----><a href="/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----><a href="/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----><a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----><a href="/vue/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/gitHber" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.jianshu.com/u/dbebfffb18ba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/gitHber/vue-press-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/h5/" class="sidebar-link">介绍</a></li><li><a href="/h5/1.html" class="sidebar-link">defer 和 async 的区别</a></li><li><a href="/h5/2.html" class="sidebar-link">9大缓存机制</a></li><li><a href="/h5/3.html" class="sidebar-link">前端常见跨域解决方案</a></li><li><a href="/h5/4.html" class="sidebar-link">Web Component 实现一个带描述的图片</a></li><li><a href="/h5/5.html" class="sidebar-link">AMP介绍</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>桌面浏览器的前端优化策略</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/h5/桌面浏览器的前端优化策略/1.html" class="active sidebar-link">网络加载类</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/h5/桌面浏览器的前端优化策略/2.html" class="sidebar-link">页面渲染类</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>移动端浏览器前端优化策略</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="网络加载类"><a href="#网络加载类" aria-hidden="true" class="header-anchor">#</a> 网络加载类</h1><h3 id="减少http资源请求次数"><a href="#减少http资源请求次数" aria-hidden="true" class="header-anchor">#</a> 减少HTTP资源请求次数</h3><p>在前端页面中，建议尽可能合并静态资源图片、javascript、css代码，减少页面请求数和资源请求消耗，缩短页面首次访问的用户等待时间，通过构建工具合并图片、css、javascript文件，同时也要尽量避免重复的资源。</p><h3 id="减小http请求大小"><a href="#减小http请求大小" aria-hidden="true" class="header-anchor">#</a> 减小HTTP请求大小</h3><p>除了减少请求，同时也要尽量减少每个http请求的大小。如减少没必要的图片、javascript、css及html代码，对文件进行压缩优化，或者使用gzip压缩传输内容等.</p><h3 id="将css或javascript放到外部文件中，避免使用-style-或-style-标签"><a href="#将css或javascript放到外部文件中，避免使用-style-或-style-标签" aria-hidden="true" class="header-anchor">#</a> 将css或javascript放到外部文件中，避免使用<code>&lt;style&gt;</code>或<code>&lt;style&gt;</code>标签</h3><p>在html中引用外部资源可以有效的利用浏览器的静态资源缓存，但有时候在移动端css和javascript比较简单的情况下为了减少请求，也会将css或js直接写入html，具体要根据css和js的文件大小和业务场景来分析。</p><h3 id="避免页面中的空的href和src"><a href="#避免页面中的空的href和src" aria-hidden="true" class="header-anchor">#</a> 避免页面中的空的href和src</h3><p>当link中的href属性为空，或script、img、iframe标签的src属性为空，浏览器在渲染的过程仍会将href属性或src属性中的空内容进行加载，直至加载失败。</p><h3 id="为html指定cache-control或expires"><a href="#为html指定cache-control或expires" aria-hidden="true" class="header-anchor">#</a> 为HTML指定Cache-Control或Expires</h3><p>为HTML内容设置Cache-Control或Expires可以将HTML内容缓存起来，避免频繁向服务器发送请求。</p><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Cache-Control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>max-age=7200<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Mon, 20 Jul 2016 23:00:00 GMT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="合理设置etag和last-modified"><a href="#合理设置etag和last-modified" aria-hidden="true" class="header-anchor">#</a> 合理设置Etag和Last-Modified</h3><p>合理设置Etag和Last-Modified使用浏览器缓存，对于未修改的文件，静态资源服务其回想浏览器返回304，然浏览器从缓存中读取文件，减少Web资源下载的带宽小号</p><h3 id="减少页面重定向"><a href="#减少页面重定向" aria-hidden="true" class="header-anchor">#</a> 减少页面重定向</h3><p>页面每次重定向都会延长页面内容返回的等待延时，一次重定向大约需要600毫秒的时间开销，为了保证用户尽快看到页面内容，要尽量避免页面重定向。</p><h3 id="使用静态资源分域存来增加下载并行数"><a href="#使用静态资源分域存来增加下载并行数" aria-hidden="true" class="header-anchor">#</a> 使用静态资源分域存来增加下载并行数</h3><p>浏览器在同一时刻向同一个域名请求文件的并行下载数是有限的，因此可以利用多个域名的主机来分别存储javascript、css和图片文件</p><h3 id="使用静态资源cdn来存储文件"><a href="#使用静态资源cdn来存储文件" aria-hidden="true" class="header-anchor">#</a> 使用静态资源CDN来存储文件</h3><p>如果条件允许，可以利用CDN网络加快同一个地理区域内重复静态资源的响应下载速度，缩短请求时间。</p><h3 id="使用cdn-combo下载传输内容"><a href="#使用cdn-combo下载传输内容" aria-hidden="true" class="header-anchor">#</a> 使用CDN Combo下载传输内容</h3><p>CDN Combo是在CDN服务器端将多个文件请求打包成一个文件的形式来返回的技术，这样就可以实现HTTP传输的一次性复用。</p><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//cdn.domain.com/path/a.js,b.js,c.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="使用可缓存的ajax"><a href="#使用可缓存的ajax" aria-hidden="true" class="header-anchor">#</a> 使用可缓存的AJAX</h3><p>对于返回内容相同的请求，没必要每次都直接从服务端拉取，合理使用AJAX缓存能加快AJAX响应速度并减轻服务器压力。</p><h3 id="使用get来完成ajax请求"><a href="#使用get来完成ajax请求" aria-hidden="true" class="header-anchor">#</a> 使用GET来完成AJAX请求</h3><p>使用XMLHttpRequeest时，浏览器中的POST方法发送请求首先发送文件投，然后发送HTTP正文数据，而使用GET时只发送头部，所以在拉取服务端数据时使用GET请求效率更高。</p><h3 id="减少cookie的大小并进行cookie隔离"><a href="#减少cookie的大小并进行cookie隔离" aria-hidden="true" class="header-anchor">#</a> 减少Cookie的大小并进行Cookie隔离</h3><p>HTTP请求通常默认带上浏览器端的Cookie一起发送给服务器，所以在非必要的情况下，要尽量减少Cookie来减小HTTP请求的大小，对于静态资源，尽量使用不同的域名来存放，因为Cookie默认是不跨域的，这样就做到了不同域名下静态资源请求的Cookie隔离。</p><h3 id="缩小favicon-ico并缓存"><a href="#缩小favicon-ico并缓存" aria-hidden="true" class="header-anchor">#</a> 缩小favicon.ico并缓存</h3><p>有利于favicon.ico的重复加载，因为一般一个Web应用的favicon.ico是很少改变的。</p><h3 id="推荐使用异步javascritp资源"><a href="#推荐使用异步javascritp资源" aria-hidden="true" class="header-anchor">#</a> 推荐使用异步JavaScritp资源</h3><p>异步的JavaScript资源不会阻挡文档解析，所以允许在浏览器中优先渲染页面，延后加载脚本执行。</p><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>asyn是在加载渲染文档并行，而defer的加载是并行的，执行要等页面所有元素解析完成。</p></blockquote><h3 id="消除阻塞渲染的css及javascript"><a href="#消除阻塞渲染的css及javascript" aria-hidden="true" class="header-anchor">#</a> 消除阻塞渲染的CSS及JavaScript</h3><p>对于页面中的加载时间过长的CSS或JavaScript文件，需要合理拆分或延后加载，保证关键路径的资源快速加载完成。</p><h3 id="避免使用css-import引用加载css"><a href="#避免使用css-import引用加载css" aria-hidden="true" class="header-anchor">#</a> 避免使用css import引用加载css</h3><p>css的@import可以从另一个样式文件中引入样式，但应该避免这种写法，应为这样会增加css资源的关键路径长度，带有@import的css样式需要在css文件创兴解析到@import时才会加载另外的css文件，大大延后css渲染完成的时间</p></div><div class="page-edit"><!----><div class="last-updated"><span class="prefix">Last Updated: </span><span class="time">9/4/2018, 8:41:12 PM</span></div></div><!----></div></div></div>
    <script src="/assets/js/25.5da1cc50.js" defer></script><script src="/assets/js/app.bcf421dc.js" defer></script>
  </body>
</html>
